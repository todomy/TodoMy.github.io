<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 缓存控制头 -->
    <meta http-equiv="Cache-Control" content="max-age=31536000, public, must-revalidate">
    <!-- 移除固定过期日期，让浏览器基于max-age自动计算 -->
    <link href='/plugins/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://avatars.githubusercontent.com/u/62632079?v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="
《孙子兵法》是中国古代最杰出的军事典籍，由春秋时期军事家孙武（约公元前544-496年）所著，成书于公元前5世纪。">
<meta property="og:title" content="《孙子兵法》">
<meta property="og:description" content="
《孙子兵法》是中国古代最杰出的军事典籍，由春秋时期军事家孙武（约公元前544-496年）所著，成书于公元前5世纪。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://todomy.github.io/post/%E3%80%8A-sun-zi-bing-fa-%E3%80%8B.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/62632079?v=4">
<title>《孙子兵法》</title>

<!-- 预连接到utteranc.es域名，减少DNS查询和连接建立时间 -->
<link rel="preconnect" href="https://utteranc.es">
<link rel="dns-prefetch" href="https://utteranc.es">


</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}

/* 评论相关样式已简化 */

@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">《孙子兵法》</h1>
<div class="title-right">
    <a href="https://todomy.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/todomy/TodoMy.github.io/issues/103" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><p>《孙子兵法》是中国古代最杰出的军事典籍，由春秋时期军事家孙武（约公元前544-496年）所著，成书于公元前5世纪。这部十三篇的兵书以其深刻的战略、战术和哲学智慧，不仅塑造了中国从古代到近代的军事实践，还对全球军事、政治和文化领域产生了深远影响。</p>
<hr />
<h2 id="_1">一、《孙子兵法》的内容与核心思想</h2>
<p>《孙子兵法》共十三篇，涵盖战略、战术、情报、领导力、后勤和心理战，以下是各篇概要及核心思想：</p>
<ol>
<li><strong>计篇</strong>：强调战前规划，提出“知己知彼，百战不殆”，通过“道、天、地、将、法”五要素评估敌我优劣。</li>
<li><strong>作战篇</strong>：主张“兵贵神速”，强调快速决战以减少资源消耗，避免“兵久而国利”。</li>
<li><strong>谋攻篇</strong>：提出“不战而屈人之兵”为最高境界，通过外交、心理战和策略取胜。</li>
<li><strong>军形篇</strong>：主张“先胜而后求战”，通过布阵确保不败，再伺机进攻。</li>
<li><strong>兵势篇</strong>：强调“奇正相生”，通过正兵与奇兵结合创造战场优势。</li>
<li><strong>虚实篇</strong>：主张“避实击虚”，通过迷惑敌人攻击其薄弱环节。</li>
<li><strong>军争篇</strong>：强调快速机动，争取战略主动，如“其疾如风，其徐如林”。</li>
<li><strong>九变篇</strong>：主张因地制宜，灵活应对战场变化。</li>
<li><strong>行军篇</strong>：强调地形选择、士气管理和敌情侦察。</li>
<li><strong>地形篇</strong>：分析六种地形（如通、挂、隘），强调“因地制胜”。</li>
<li><strong>九地篇</strong>：根据九种战场环境（如散地、争地）调整策略。</li>
<li><strong>火攻篇</strong>：提出火攻战术，扰乱敌军后勤。</li>
<li><strong>用间篇</strong>：强调情报的重要性，提出五种间谍（因间、内间、反间、死间、生间）。</li>
</ol>
<p><strong>核心哲学</strong>：<br />
《孙子兵法》倡导“全胜”理念，即以最小代价实现最大胜利，强调战略灵活性（“兵无常势，水无常形”）、情报、民心和后勤的重要性。其思想超越军事，广泛应用于政治、商业和哲学领域。</p>
<hr />
<h2 id="_2">二、作者孙武及其背景</h2>
<h3 id="21">2.1 孙武生平</h3>
<p>孙武（约公元前544-496年），字长卿，齐国人（今山东临沂一带），春秋时期著名军事家。生活在诸侯争霸的动荡年代，他为吴王阖闾（公元前514-496年在位）担任军事顾问，协助吴国击败楚国，攻入楚都郢（公元前506年）。据《史记·孙子吴起列传》，孙武通过伍子胥推荐进入吴国，以少胜多的战术验证了其军事理论，后隐退，结局不明。</p>
<h3 id="22">2.2 思想来源</h3>
<p>孙武的思想融合了春秋时期的哲学和军事传统：<br />
- <strong>道家</strong>：强调“因势利导”，如“兵贵胜，不贵久”。<br />
- <strong>儒家</strong>：注重“道”（政治支持）和将领德行，如“将者，智、信、仁、勇、严”。<br />
- <strong>兵家</strong>：继承《太公兵法》等早期军事思想，强调策略与情报。</p>
<hr />
<h2 id="5-1840">三、《孙子兵法》在中国古代的影响（公元前5世纪-1840年）</h2>
<h3 id="31-475-221">3.1 战国时期（公元前475-221年）</h3>
<p>《孙子兵法》在战国时期广泛传播，影响了军事家和诸侯国的战略：<br />
- <strong>孙膑</strong>：孙武后人，著《孙膑兵法》，在齐魏桂陵之战（公元前353年）和马陵之战（公元前341年）中运用“围魏救赵”“减灶诱敌”，体现“避实击虚”。<br />
- <strong>秦国统一</strong>：秦将白起、王翦借鉴“集中优势兵力”，助秦始皇统一六国。</p>
<h3 id="32-202-220">3.2 汉朝（公元前202年-公元220年）</h3>
<ul>
<li><strong>张良与韩信</strong>：汉初名将运用“奇正相生”和“出其不意”，如韩信的背水一战（公元前204年）体现“陷之死地然后生”。</li>
<li><strong>军事典籍</strong>：《孙子兵法》成为汉代军事教育经典，影响《淮南子》等兵书。</li>
</ul>
<h3 id="33-618-1279">3.3 唐宋时期（618-1279年）</h3>
<ul>
<li><strong>唐代李靖</strong>：在平定突厥的战役中运用“兵贵神速”和“因地制胜”，其《李卫公问对》多次引用《孙子兵法》。</li>
<li><strong>宋代岳飞</strong>：岳家军以灵活机动击败金军，体现“其疾如风，侵掠如火”。</li>
</ul>
<h3 id="34-1368-1912">3.4 明清时期（1368-1912年）</h3>
<ul>
<li><strong>戚继光</strong>：明代抗倭名将在《纪效新书》中融入《孙子兵法》的训练和布阵思想，成功抵御倭寇。</li>
<li><strong>清代注释</strong>：清代学者整理《十一家注孙子》，系统注释《孙子兵法》，成为军事教育必读书。</li>
</ul>
<hr />
<h2 id="1840-1949">四、《孙子兵法》在近代中国的应用（1840-1949）</h2>
<p>在中国近代史（1840-1949），《孙子兵法》深刻影响了革命、抗战和内战的军事战略，以下按时间线分析其在关键事件和人物中的体现。</p>
<h3 id="41-1840-1864">4.1 鸦片战争与太平天国（1840-1864）</h3>
<ul>
<li><strong>鸦片战争（1840-1842）</strong>：清军因缺乏现代军事思想和装备，未能有效运用“知己知彼”，败于英国，暴露传统军事局限。</li>
<li><strong>太平天国（1850-1864）</strong>：太平军初期利用游击战术和地形优势，体现“避实击虚”。清将曾国藩通过湘军的水师和围困战术，借鉴“后勤为先”，最终平叛。</li>
</ul>
<h3 id="42-1861-1895">4.2 自强运动与洋务派（1861-1895）</h3>
<ul>
<li><strong>洋务运动</strong>：李鸿章、左宗棠借鉴“将者，智、信、仁、勇、严”，推动军事现代化，创建北洋水师和兵工厂。但甲午战争（1894-1895）的失败显示清廷未能落实“知己知彼”。</li>
</ul>
<h3 id="43-1911">4.3 辛亥革命（1911）</h3>
<ul>
<li><strong>革命军战略</strong>：革命军利用清军分散的弱点，集中力量攻占武昌，体现“集中优势兵力，各个歼灭敌人”。同盟会领袖黄兴、宋教仁等通过“出其不意”推翻清朝。</li>
</ul>
<h3 id="44-1916-1928">4.4 北伐战争与军阀混战（1916-1928）</h3>
<ul>
<li><strong>北伐战争（1926-1928）</strong>：蒋介石运用“分而治之”和“伐交”，通过政治拉拢和军事打击击败吴佩孚、孙传芳等军阀，体现《孙子兵法》的灵活性。</li>
<li><strong>军阀战术</strong>：冯玉祥、阎锡山等军阀也熟悉《孙子兵法》，但割据行为违背“上下同欲者胜”，导致内耗。</li>
</ul>
<h3 id="45-1937-1945">4.5 抗日战争（1937-1945）</h3>
<p>《孙子兵法》通过蒋百里的《国防论》和毛泽东的《论持久战》在抗战中得到系统化应用。</p>
<h4 id="451">4.5.1 蒋百里与《国防论》</h4>
<p>蒋百里（1882-1938）在《国防论》（1937）中明确引用《孙子兵法》，将其融入现代国防理论：<br />
- <strong>持久战</strong>：蒋百里提出“以空间换时间”，主张利用中国地大人多的优势拖垮日本，呼应“避实击虚”和“兵贵胜，不贵久”。他建议在上海主动开战（淞沪会战，1937），迫使日军沿长江推进，陷入内地消耗战。<br />
- <strong>全民动员</strong>：强调“国民皆兵”，与“攻心为上”相通，主张通过全民抗战瓦解敌军士气。<br />
- <strong>国防经济</strong>：提出“既可以吃饭，又可以打仗”，与“军无辎重则亡”一致，建议建立内地兵工厂和交通网络。<br />
- <strong>实际影响</strong>：指导了淞沪会战和武汉会战，但国民党腐败和指挥混乱限制了效果。</p>
<h4 id="452">4.5.2 张自忠的抗战实践</h4>
<p>张自忠（1891-1940），抗战期间牺牲的最高级别国军将领，其作战风格体现《孙子兵法》：<br />
- <strong>灵活战术</strong>：喜峰口战役（1933）中，张自忠率部夜袭日军，运用大刀重创敌军，体现“出其不意，攻其不备”。临沂战役（1938）中，他七昼夜阻击日军坂垣师团，展现“避实击虚”。<br />
- <strong>士气激励</strong>：枣宜会战（1940）中，张自忠亲自冲锋，壮烈牺牲，激励军民士气，符合“将者，国之辅也”。<br />
- <strong>局限性</strong>：国军后勤不足和指挥不力违背“后勤为先”，导致张自忠在枣宜会战中孤军覆没。</p>
<h4 id="453">4.5.3 毛泽东的《论持久战》</h4>
<p>毛泽东（1893-1976）熟读《孙子兵法》，将其融入《论持久战》（1938）：<br />
- <strong>三阶段战略</strong>：提出战略防御、相持、反攻三阶段，与“先为不可胜，以待敌之可胜”相呼应，通过游击战和运动战消耗日军。<br />
- <strong>民心与情报</strong>：强调群众支持，八路军和新四军通过百团大战（1940）扰乱日军后勤，体现“用间”与“攻心”。<br />
- <strong>实际影响</strong>：中共的游击战有效牵制日军，为抗战胜利奠定基础。</p>
<h3 id="46-1945-1949">4.6 国共内战（1945-1949）</h3>
<p>《孙子兵法》在国共内战中对毛泽东的胜利起到了关键作用，而蒋介石的失败反映了对其思想的运用不足。</p>
<h4 id="461">4.6.1 蒋介石的战略失误</h4>
<ul>
<li><strong>北伐成功</strong>：蒋介石在北伐中运用“分而治之”和“伐交”，拉拢张学良等军阀击败北洋势力。</li>
<li><strong>内战失败</strong>：蒋介石追求速战速决的“重点进攻”，违背“兵贵胜，不贵久”。辽沈、淮海、平津三大战役（1948-1949）中，国军战线过长、后勤崩溃，违背“军无辎重则亡”。腐败和派系斗争导致“上下不同欲”，失去民心。</li>
<li><strong>与《孙子兵法》的脱节</strong>：未能落实“知己知彼”和“攻心为上”，忽视民心和情报。</li>
</ul>
<h4 id="462">4.6.2 毛泽东的战略成功</h4>
<p>毛泽东将《孙子兵法》与马克思主义结合，形成独特军事理论：<br />
- <strong>十大军事原则</strong>：提出“集中优势兵力，各个歼灭敌人”，源于“奇正相生”和“避实击虚”。三大战役中，解放军通过机动战和诱敌深入全歼国军主力。<br />
- <strong>群众路线</strong>：通过土地改革赢得农民支持，体现“攻心为上”。解放军的“三大纪律八项注意”增强军民团结，符合“上下同欲者胜”。<br />
- <strong>情报优势</strong>：利用农民情报网络，掌握国军动向，体现“用间篇”。<br />
- <strong>实际影响</strong>：毛泽东的战略使中共从军事弱势走向胜利，于1949年10月1日建立新中国。</p>
<hr />
<h2 id="_3">五、《孙子兵法》的国际影响及战争实践</h2>
<p>《孙子兵法》自传入国际后，对全球军事战略和战争实践产生了深远影响，以下按时间线分析其在国际战争中的应用。</p>
<h3 id="51-8-18">5.1 古代至中世纪（8世纪-18世纪）</h3>
<ul>
<li><strong>日本（8世纪起）</strong>：  </li>
<li>《孙子兵法》通过遣唐使传入日本，影响武士道文化。平安时代（794-1185），武士将领研读其思想，用于氏族战争。  </li>
<li>江户时代（1603-1868），德川家康推崇《孙子兵法》，将其用于治国和军事管理，如“上下同欲者胜”指导幕府稳定。  </li>
<li><strong>案例</strong>：关原之战（1600），德川家康通过“伐交”分化敌方联盟，集中兵力击败石田三成，体现“奇正相生”。</li>
</ul>
<h3 id="52-18-19">5.2 近代欧洲（18世纪-19世纪）</h3>
<ul>
<li><strong>首次翻译与拿破仑战争</strong>：  </li>
<li>1772年，法国传教士让·约瑟夫·马里·阿米奥（Jean Joseph Marie Amiot）将《孙子兵法》译成法文，传入欧洲。  </li>
<li>拿破仑·波拿巴（1769-1821）据说研读过《孙子兵法》，其快速机动和集中兵力的战术（如奥斯特利茨战役，1805）与“兵贵神速”和“奇正相生”相符。  </li>
<li><strong>案例</strong>：奥斯特利茨战役中，拿破仑诱敌深入，集中优势兵力击败俄奥联军，体现“避实击虚”和“致人而不致于人”。</li>
</ul>
<h3 id="53-20">5.3 现代战争（20世纪）</h3>
<p>《孙子兵法》在20世纪的国际战争中广泛应用于战略规划和战术执行。</p>
<h4 id="531-1914-1918">5.3.1 第一次世界大战（1914-1918）</h4>
<ul>
<li><strong>德国军事思想</strong>：德国军事理论家卡尔·冯·克劳塞维茨（Carl von Clausewitz）的《战争论》虽未直接引用《孙子兵法》，但其强调战略灵活性和情报的理念与孙武思想有共鸣。德军在坦能堡战役（1914）中通过“避实击虚”，利用地形和情报击败俄军。</li>
<li><strong>英国与心理战</strong>：英国通过宣传和情报战削弱德军士气，体现“攻心为上”。如1917年的宣传战，利用反间计散布虚假信息。</li>
</ul>
<h4 id="532-1939-1945">5.3.2 第二次世界大战（1939-1945）</h4>
<ul>
<li><strong>德国闪电战</strong>：德国的“闪电战”（Blitzkrieg）战术，强调快速机动和集中兵力，与“兵贵神速”和“奇正相生”相符。例如，1940年法国战役中，德军通过曼施坦因计划绕过马奇诺防线，体现“避实击虚”。</li>
<li><strong>日本军事战略</strong>：日本军国主义者深受《孙子兵法》影响，其珍珠港偷袭（1941）体现“出其不意，攻其不备”。然而，日本忽视“兵久而国利”，在太平洋战争中因资源耗尽而失败。</li>
<li><strong>盟军战略</strong>：盟军在诺曼底登陆（1944）中运用“用间篇”的情报战，通过“反间计”误导德军关于登陆地点，体现“知己知彼”。</li>
</ul>
<h4 id="533-1955-1975">5.3.3 越南战争（1955-1975）</h4>
<ul>
<li><strong>北越游击战</strong>：北越领袖胡志明和武元甲深受《孙子兵法》启发，采用游击战和持久战，类似毛泽东的战略。例如，1968年春节攻势通过“出其不意”重创美军士气，体现“避实击虚”和“攻心为上”。</li>
<li><strong>美军研究</strong>：美国军方在越南战争后期开始研读《孙子兵法》，试图应对北越的非对称战术，但未能有效破解。</li>
</ul>
<h4 id="534">5.3.4 冷战与现代战争</h4>
<ul>
<li><strong>美苏冷战</strong>：美国战略家如亨利·基辛格（Henry Kissinger）研究《孙子兵法》，将其“伐交”思想应用于外交，如1970年代的中美缓和。苏联在阿富汗战争（1979-1989）中忽视“兵贵胜，不贵久”，因长期作战失败。</li>
<li><strong>现代反恐战争</strong>：美军在伊拉克和阿富汗战争中借鉴“用间篇”，通过情报战打击恐怖组织，但忽视“攻心为上”，导致民心疏远。</li>
</ul>
<h3 id="54">5.4 非军事领域的全球影响</h3>
<ul>
<li><strong>商业</strong>：20世纪80年代起，《孙子兵法》成为西方商学院的必读经典，如通用电气的战略规划借鉴“知己知彼”分析市场竞争。</li>
<li><strong>政治</strong>：政治家如基辛格运用“伐交”理念，通过外交联盟削弱对手。</li>
<li><strong>体育与文化</strong>：体育教练和文化领袖引用“兵无常势，水无常形”，强调灵活应变。</li>
</ul>
<hr />
<h2 id="_4">六、总结</h2>
<p>《孙子兵法》作为孙武在春秋时期的智慧结晶，以其“全胜”理念、战略灵活性和情报重视，深刻影响了中国和世界历史。《孙子兵法》不仅是军事经典，更是人类智慧的结晶。其思想从春秋时期的吴楚争霸，到近代中国的抗战与革命，再到全球的现代战争与竞争，持续启迪战略思维，彰显了中华民族的智慧与韧性。</p>
<h2 id="_5">七、附件</h2>
<p><a href="https://github.com/user-attachments/files/21378346/Z-Library.zip">孙子兵法 (郭化若译注) (Z-Library).zip</a></p></div>
<div style="font-size:small;margin-top:8px;float:right;">❤️ 免责声明：以上内容纯属虚构，如有雷同纯属巧合，私自传播影响自负，瞎写写勿传播，谢谢！❤️</div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><style>
        /* 添加返回顶部按钮的样式 */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4a6cf7, #6c8eff);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(74, 108, 247, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            visibility: hidden;
            z-index: 9999;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: linear-gradient(135deg, #3a5ce7, #5c7cff);
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 6px 16px rgba(74, 108, 247, 0.4);
        }

        .back-to-top:active {
            transform: translateY(-2px) scale(1.05);
        }

        /* 链接样式 */
        a {
            text-decoration: none;
            color: #333;
            transition: font-weight 0.3s ease, transform 0.3s ease;
        }

        a:hover {
            font-weight: bold; /* 鼠标悬停时链接变粗 */
            transform: scale(1.1); /* 字体变大 */
        }
    </style>
    <div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://todomy.github.io">TodoMy</a></div>
    <div id="footer2">
        <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
    </div>

    <!-- 添加返回顶部按钮 -->
    <div class="back-to-top" onclick="scrollToTop()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
        </svg>
    </div>

    <script>
        var now = new Date();
        document.getElementById("copyrightYear").innerHTML = now.getFullYear();

        if ("11/24/2024" != "") {
            var startSite = new Date("11/24/2024");
            var diff = now.getTime() - startSite.getTime();
            var diffDay = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById("runday").innerHTML = "网站运行" + diffDay + "天" + " • ";
        }

        // 返回顶部功能
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // 监听滚动事件
        window.addEventListener('scroll', function() {
            var scrollPosition = window.scrollY;
            var button = document.querySelector('.back-to-top');
            
            // 使用 Intersection Observer API 或简单的滚动检测
            if (scrollPosition > 300) { // 增加显示阈值，减少不必要的显示
                button.classList.add('visible');
            } else {
                button.classList.remove('visible');
            }
        });
        
        // 为支持平滑滚动添加 polyfill 检测
        if (!('scrollBehavior' in document.documentElement.style)) {
            // 如果浏览器不支持 smooth scroll，可以在这里添加 polyfill 或使用替代方案
            function smoothScrollTo(element, to, duration) {
                var start = element.scrollTop,
                    change = to - start,
                    currentTime = 0,
                    increment = 20;
                
                var animateScroll = function() {
                    currentTime += increment;
                    var val = easeInOutQuad(currentTime, start, change, duration);
                    element.scrollTop = val;
                    if (currentTime < duration) {
                        setTimeout(animateScroll, increment);
                    }
                };
                
                function easeInOutQuad(t, b, c, d) {
                    t /= d / 2;
                    if (t < 1) return c / 2 * t * t + b;
                    t--;
                    return -c / 2 * (t * (t - 2) - 1) + b;
                }
                
                animateScroll();
            }
        }
    </script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode", mode);
    document.getElementById("themeSwitch").setAttribute("d", IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color = color;
    if(utterancesLoad == 1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
// 使用当前主题模式初始化
let currentTheme = document.documentElement.getAttribute('data-color-mode');
if(themeSettings[currentTheme]){changeTheme(...themeSettings[currentTheme]);}
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);

// 初始化变量
var blogData = {
    commentNum: 0,
    needComment: 1,
    themeMode: 'manual',
    nightTheme: 'dark_colorblind',
    repoName: 'local_repo'
};

// 添加评论数量
if(blogData.commentNum > 0) {
    var cmButton = document.getElementById("cmButton");
    var span = document.createElement("span");
    span.setAttribute("class","Counter");
    span.innerHTML = blogData.commentNum;
    cmButton.appendChild(span);
}

// 评论相关功能
if(blogData.needComment == 1) {
function openComments() {
    var cm = document.getElementById("comments");
    var cmButton = document.getElementById("cmButton");
    
    // 禁用按钮防止重复点击
    cmButton.disabled = true;
    
    // 清空评论区域，不添加额外的加载提示，由utterances.client.js统一处理
    cm.innerHTML = '';
    
    // 使用setTimeout延迟加载脚本，允许浏览器处理当前UI更新
    setTimeout(function() {
        var script = document.createElement("script");
        // 使用本地utterances评论系统脚本
        script.setAttribute("src","/plugins/utterances.client.js");
        script.setAttribute("repo", blogData.repoName);
        script.setAttribute("issue-term","title");
        if(blogData.themeMode == 'manual') {
            if(localStorage.getItem("meek_theme") == "dark") {
                script.setAttribute("theme","dark-blue");
            } else if(localStorage.getItem("meek_theme") == "light") {
                script.setAttribute("theme","github-light");
            } else {
                script.setAttribute("theme","preferred-color-scheme");
            }
        } else {
            script.setAttribute("theme", blogData.nightTheme);
        }
        script.setAttribute("crossorigin","anonymous");
        script.setAttribute("async","true");
        
        // 添加错误处理
        script.onerror = function() {
            cm.innerHTML = '<div style="color: #d73a49; text-align: center; padding: 20px;">评论加载失败，请稍后重试</div>';
            cmButton.innerHTML = "重试";
            cmButton.disabled = false;
            if(window.int) clearInterval(window.int);
        };
        
        cm.appendChild(script);

        // 存储定时器到window对象，避免重复创建
        window.int = setInterval(iFrameLoading, 100);
    }, 100);
}

function iFrameLoading() {
    var utterances = document.getElementsByClassName('utterances');
    if(utterances.length == 1) {
        // 检查是否已标记为加载完成
        if(utterances[0].classList.contains('utterances-loaded')) {
            window.utterancesLoad = 1;
            clearInterval(window.int);
            document.getElementById("cmButton").style.display = "none";
            console.log("utterances Load OK");
        } else {
            // 作为备选检测，等待iframe加载完成
            var iframe = utterances[0].querySelector('.utterances-frame');
            if(iframe && iframe.contentDocument && iframe.contentDocument.readyState === 'complete') {
                // 手动添加loaded类，确保加载提示正确隐藏
                utterances[0].classList.add('utterances-loaded');
                window.utterancesLoad = 1;
                clearInterval(window.int);
                document.getElementById("cmButton").style.display = "none";
                console.log("utterances Load OK (by iframe readyState)");
            }
        }
    }
}
}
</script>
<script src='/plugins/GmeekTOC.js'></script><script src='/plugins/lightbox.js'></script>

<script>
    // 图片懒加载功能
    document.addEventListener('DOMContentLoaded', function() {
        // 检查浏览器是否支持原生懒加载
        if ('loading' in HTMLImageElement.prototype) {
            const images = document.querySelectorAll('img[lazy-src]');
            images.forEach(img => {
                img.src = img.getAttribute('lazy-src');
                img.removeAttribute('lazy-src');
            });
        } else {
            // 不支持原生懒加载时使用JavaScript实现
            const lazyLoadImages = function() {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.getAttribute('lazy-src');
                            img.removeAttribute('lazy-src');
                            observer.unobserve(img);
                        }
                    });
                });
                
                document.querySelectorAll('img[lazy-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            };
            
            // 启动懒加载
            lazyLoadImages();
        }
    });
    
    // 资源合并优化相关：动态加载非关键JavaScript
    function loadScript(url, callback) {
        const script = document.createElement('script');
        script.src = url;
        script.async = true;
        script.onload = callback;
        document.head.appendChild(script);
    }
    
    // 页面加载完成后再加载非关键脚本
    window.addEventListener('load', function() {
        // 可以在这里添加非关键脚本的延迟加载
    });
</script>
</html>
